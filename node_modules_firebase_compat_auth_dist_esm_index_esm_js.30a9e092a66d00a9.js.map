{"version":3,"file":"node_modules_firebase_compat_auth_dist_esm_index_esm_js.30a9e092a66d00a9.js","mappings":"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","names":["_cordovaWindow","window","_generateHandlerUrl2","_asyncToGenerator","auth","event","provider","_a","BuildInfo","debugAssert","sessionId","sessionDigest","computeSha256","_x8","_computeSha","apply","this","arguments","additionalParams","_isIOS","ibi","packageName","_isAndroid","apn","_fail","displayName","appDisplayName","_getRedirectUrl","type","undefined","eventId","_validateOrigin2","request","iosBundleId","androidPackageName","_getProjectConfig","_waitForAppResume2","eventListener","iabRef","cordova","cleanup","Promise","resolve","reject","onCloseTimer","authEventSeen","closeBrowserTab","plugins","browsertab","close","resumed","setTimeout","_createError","visibilityChanged","document","visibilityState","addPassiveListener","addEventListener","removePassiveListener","removeEventListener","clearTimeout","bytes","stringToArrayBuffer","str","test","TextEncoder","encode","buff","ArrayBuffer","length","view","Uint8Array","i","charCodeAt","buf","crypto","subtle","digest","Array","from","map","num","toString","padStart","join","CordovaAuthEventManager","AuthEventManager","constructor","super","passiveListeners","Set","initPromise","resolveInialized","cb","add","delete","resetRedirect","queuedRedirectEvent","hasHandledPotentialRedirect","onEvent","forEach","initialized","_this","_getAndRemoveEvent","_x9","_getAndRemoveEvent2","storage","_get","persistenceKey","_remove","generateSessionId","chars","idx","Math","floor","allowedChars","random","push","charAt","_getInstance","browserLocalPersistence","_persistenceKeyName","config","apiKey","name","searchParamsOrEmpty","url","includes","_","rest","split","querystringDecode","cordovaPopupRedirectResolver","CordovaPopupRedirectResolver","_redirectPersistence","browserSessionPersistence","_shouldInitProactively","eventManagers","Map","originValidationPromises","_completeRedirectFn","_getRedirectResult","_overrideRedirectResult","_initialize","_this2","key","_key","manager","get","set","attachCallbackListeners","_openPopup","_openRedirect","authType","_this3","_checkCordovaConfiguration","_b","_c","_d","_e","_f","_g","_h","_j","_k","win","_assert","universalLinks","subscribe","missingPlugin","openUrl","isAvailable","InAppBrowser","open","_clearRedirectOutcomes","_originValidation","_generateNewEvent","urlResponse","postBody","tenantId","error","_savePartialEvent","_set","_generateHandlerUrl","_x","_x2","_x3","_performRedirect","handlerUrl","browserTabIsAvailable","_isIOS7Or8","_waitForAppResume","_x5","_x6","_x7","_isIframeWebStorageSupported","_auth","_cb","Error","_validateOrigin","_x4","handleOpenURL","noEventTimeout","generateNoEvent","universalLinksCb","_ref2","eventData","partialEvent","finalEvent","_eventFromPartialAndUrl","callbackUrl","_getDeepLinkFromCallback","params","link","decodeURIComponent","doubleDeepLink","iOSDeepLink","deep_link_id","errorObject","firebaseError","parseJsonOrNull","json","JSON","parse","code","_x10","existingHandleOpenURL","packagePrefix","toLowerCase","_ref3","startsWith","e","console","_x11","_getCurrentScheme","self","location","protocol","_isAndroidOrIosCordovaScheme","ua","getUA","match","_isWebStorageSupported","localStorage","exp","setItem","removeItem","_isLocalStorageNotSynchronized","_isIe11","isIE","documentMode","_isEdge","isIndexedDBAvailable","_isWorker","global","_isPopupRedirectSupported","_isHttpOrHttps","isBrowserExtension","_isNativeEnvironment","isReactNative","isNode","_isLikelyCordova","_isCordova2","timeoutId","Persistence","LOCAL","NONE","SESSION","_assert$3","PERSISTENCE_KEY","_savePersistenceForRedirect","_savePersistenceForRedirect2","_initializationPromise","session","getSessionStorageIfAvailable","_getPersistence","_getSelfWindow","sessionStorage","_assert$2","CompatPopupRedirectResolver","browserResolver","cordovaResolver","underlyingResolver","selectUnderlyingResolver","assertedUnderlyingResolver","_this4","isCordova","_isCordova","unwrap","object","credentialFromResponse","userCredential","credentialFromObject","_tokenResponse","FirebaseError","customData","credentialFromResult","providerId","PASSWORD","GOOGLE","FACEBOOK","GITHUB","TWITTER","oauthIdToken","oauthAccessToken","oauthTokenSecret","pendingToken","nonce","_create","_fromParams","signInMethod","idToken","accessToken","credential","rawNonce","credentialFromError","convertCredential","credentialPromise","catch","attachExtraErrorFields","response","resolver","MultiFactorResolver","credErr","email","phoneNumber","then","user","operationType","additionalUserInfo","User","getOrCreate","convertConfirmationResult","_convertConfirmationResult","confirmationResultPromise","confirmationResultExp","verificationId","confirm","verificationCode","wrapped","hints","resolveSignIn","assertion","_delegate","multiFactor","USER_MAP","has","reload","toJSON","getIdTokenResult","forceRefresh","getIdToken","linkAndRetrieveDataWithCredential","linkWithCredential","_this5","linkWithPhoneNumber","applicationVerifier","_this6","linkWithPopup","_this7","linkWithRedirect","_this8","reauthenticateAndRetrieveDataWithCredential","reauthenticateWithCredential","_this9","reauthenticateWithPhoneNumber","reauthenticateWithPopup","reauthenticateWithRedirect","_this10","sendEmailVerification","actionCodeSettings","unlink","_this11","updateEmail","newEmail","updatePassword","newPassword","updatePhoneNumber","phoneCredential","updateProfile","profile","verifyBeforeUpdateEmail","emailVerified","isAnonymous","metadata","providerData","refreshToken","photoURL","uid","WeakMap","_assert$1","Auth","app","isInitialized","getImmediate","linkUnderlyingAuth","options","appName","initialize","persistence","buildPersistenceHierarchy","popupRedirectResolver","_updateErrorMap","emulatorConfig","currentUser","languageCode","settings","tid","useDeviceLanguage","signOut","useEmulator","applyActionCode","checkActionCode","confirmPasswordReset","createUserWithEmailAndPassword","password","_this12","fetchProvidersForEmail","fetchSignInMethodsForEmail","isSignInWithEmailLink","emailLink","getRedirectResult","_this13","addFrameworkForLogging","framework","_castAuth","_logFramework","onAuthStateChanged","nextOrObserver","errorFn","completed","next","complete","wrapObservers","onIdTokenChanged","sendSignInLinkToEmail","sendPasswordResetEmail","setPersistence","_this14","converted","_validatePersistenceArgument","Object","values","_isAvailable","signInAndRetrieveDataWithCredential","signInWithCredential","signInAnonymously","signInWithCustomToken","token","signInWithEmailAndPassword","signInWithEmailLink","signInWithPhoneNumber","signInWithPopup","_this15","signInWithRedirect","_this16","updateCurrentUser","verifyPasswordResetCode","_delete","oldNext","persistences","_getPersistencesFromRedirect","getItem","PhoneAuthProvider","firebase","verifyPhoneNumber","phoneInfoOptions","PHONE_SIGN_IN_METHOD","PROVIDER_ID","RecaptchaVerifier","container","parameters","clear","render","verify","registerAuthCompat","instance","INTERNAL","registerComponent","Component","getProvider","authProvider","setServiceProps","ActionCodeInfo","Operation","EMAIL_SIGNIN","PASSWORD_RESET","RECOVER_EMAIL","REVERT_SECOND_FACTOR_ADDITION","VERIFY_AND_CHANGE_EMAIL","VERIFY_EMAIL","EmailAuthProvider","FacebookAuthProvider","GithubAuthProvider","GoogleAuthProvider","OAuthProvider","SAMLAuthProvider","PhoneMultiFactorGenerator","TwitterAuthProvider","AuthCredential","setInstantiationMode","setMultipleInstances","registerVersion"],"sourceRoot":"webpack:///","sources":["./node_modules/@firebase/auth/dist/esm2017/internal.js","./node_modules/@firebase/auth-compat/dist/index.esm2017.js"],"sourcesContent":["import { as as debugAssert, at as _isIOS, au as _isAndroid, av as _fail, aw as _getRedirectUrl, ax as _getProjectConfig, ay as _isIOS7Or8, az as _createError, aA as _assert, aB as AuthEventManager, aC as _getInstance, b as browserLocalPersistence, aD as _persistenceKeyName, a as browserSessionPersistence, aE as _getRedirectResult, aF as _overrideRedirectResult, aG as _clearRedirectOutcomes, aH as _castAuth } from './index-e3d5d3f4.js';\nexport { A as ActionCodeOperation, ag as ActionCodeURL, J as AuthCredential, G as AuthErrorCodes, aJ as AuthImpl, aM as AuthPopup, K as EmailAuthCredential, Q as EmailAuthProvider, U as FacebookAuthProvider, F as FactorId, aN as FetchProvider, W as GithubAuthProvider, V as GoogleAuthProvider, L as OAuthCredential, X as OAuthProvider, O as OperationType, M as PhoneAuthCredential, P as PhoneAuthProvider, m as PhoneMultiFactorGenerator, p as ProviderId, R as RecaptchaVerifier, aO as SAMLAuthCredential, Y as SAMLAuthProvider, S as SignInMethod, T as TotpMultiFactorGenerator, n as TotpSecret, Z as TwitterAuthProvider, aI as UserImpl, aA as _assert, aH as _castAuth, av as _fail, aL as _generateEventId, aK as _getClientVersion, aC as _getInstance, aE as _getRedirectResult, aF as _overrideRedirectResult, aD as _persistenceKeyName, a5 as applyActionCode, w as beforeAuthStateChanged, b as browserLocalPersistence, k as browserPopupRedirectResolver, a as browserSessionPersistence, a6 as checkActionCode, a4 as confirmPasswordReset, I as connectAuthEmulator, a8 as createUserWithEmailAndPassword, D as debugErrorMap, C as deleteUser, ad as fetchSignInMethodsForEmail, ao as getAdditionalUserInfo, o as getAuth, al as getIdToken, am as getIdTokenResult, aq as getMultiFactorResolver, j as getRedirectResult, N as inMemoryPersistence, i as indexedDBLocalPersistence, H as initializeAuth, t as initializeRecaptchaConfig, ab as isSignInWithEmailLink, a0 as linkWithCredential, l as linkWithPhoneNumber, d as linkWithPopup, g as linkWithRedirect, ar as multiFactor, x as onAuthStateChanged, v as onIdTokenChanged, ah as parseActionCodeURL, E as prodErrorMap, a1 as reauthenticateWithCredential, r as reauthenticateWithPhoneNumber, e as reauthenticateWithPopup, h as reauthenticateWithRedirect, ap as reload, ae as sendEmailVerification, a3 as sendPasswordResetEmail, aa as sendSignInLinkToEmail, q as setPersistence, _ as signInAnonymously, $ as signInWithCredential, a2 as signInWithCustomToken, a9 as signInWithEmailAndPassword, ac as signInWithEmailLink, s as signInWithPhoneNumber, c as signInWithPopup, f as signInWithRedirect, B as signOut, an as unlink, z as updateCurrentUser, aj as updateEmail, ak as updatePassword, u as updatePhoneNumber, ai as updateProfile, y as useDeviceLanguage, af as verifyBeforeUpdateEmail, a7 as verifyPasswordResetCode } from './index-e3d5d3f4.js';\nimport { querystringDecode } from '@firebase/util';\nimport '@firebase/app';\nimport 'tslib';\nimport '@firebase/logger';\nimport '@firebase/component';\n\n/**\r\n * @license\r\n * Copyright 2021 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction _cordovaWindow() {\r\n    return window;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * How long to wait after the app comes back into focus before concluding that\r\n * the user closed the sign in tab.\r\n */\r\nconst REDIRECT_TIMEOUT_MS = 2000;\r\n/**\r\n * Generates the URL for the OAuth handler.\r\n */\r\nasync function _generateHandlerUrl(auth, event, provider) {\r\n    var _a;\r\n    // Get the cordova plugins\r\n    const { BuildInfo } = _cordovaWindow();\r\n    debugAssert(event.sessionId, 'AuthEvent did not contain a session ID');\r\n    const sessionDigest = await computeSha256(event.sessionId);\r\n    const additionalParams = {};\r\n    if (_isIOS()) {\r\n        // iOS app identifier\r\n        additionalParams['ibi'] = BuildInfo.packageName;\r\n    }\r\n    else if (_isAndroid()) {\r\n        // Android app identifier\r\n        additionalParams['apn'] = BuildInfo.packageName;\r\n    }\r\n    else {\r\n        _fail(auth, \"operation-not-supported-in-this-environment\" /* AuthErrorCode.OPERATION_NOT_SUPPORTED */);\r\n    }\r\n    // Add the display name if available\r\n    if (BuildInfo.displayName) {\r\n        additionalParams['appDisplayName'] = BuildInfo.displayName;\r\n    }\r\n    // Attached the hashed session ID\r\n    additionalParams['sessionId'] = sessionDigest;\r\n    return _getRedirectUrl(auth, provider, event.type, undefined, (_a = event.eventId) !== null && _a !== void 0 ? _a : undefined, additionalParams);\r\n}\r\n/**\r\n * Validates that this app is valid for this project configuration\r\n */\r\nasync function _validateOrigin(auth) {\r\n    const { BuildInfo } = _cordovaWindow();\r\n    const request = {};\r\n    if (_isIOS()) {\r\n        request.iosBundleId = BuildInfo.packageName;\r\n    }\r\n    else if (_isAndroid()) {\r\n        request.androidPackageName = BuildInfo.packageName;\r\n    }\r\n    else {\r\n        _fail(auth, \"operation-not-supported-in-this-environment\" /* AuthErrorCode.OPERATION_NOT_SUPPORTED */);\r\n    }\r\n    // Will fail automatically if package name is not authorized\r\n    await _getProjectConfig(auth, request);\r\n}\r\nfunction _performRedirect(handlerUrl) {\r\n    // Get the cordova plugins\r\n    const { cordova } = _cordovaWindow();\r\n    return new Promise(resolve => {\r\n        cordova.plugins.browsertab.isAvailable(browserTabIsAvailable => {\r\n            let iabRef = null;\r\n            if (browserTabIsAvailable) {\r\n                cordova.plugins.browsertab.openUrl(handlerUrl);\r\n            }\r\n            else {\r\n                // TODO: Return the inappbrowser ref that's returned from the open call\r\n                iabRef = cordova.InAppBrowser.open(handlerUrl, _isIOS7Or8() ? '_blank' : '_system', 'location=yes');\r\n            }\r\n            resolve(iabRef);\r\n        });\r\n    });\r\n}\r\n/**\r\n * This function waits for app activity to be seen before resolving. It does\r\n * this by attaching listeners to various dom events. Once the app is determined\r\n * to be visible, this promise resolves. AFTER that resolution, the listeners\r\n * are detached and any browser tabs left open will be closed.\r\n */\r\nasync function _waitForAppResume(auth, eventListener, iabRef) {\r\n    // Get the cordova plugins\r\n    const { cordova } = _cordovaWindow();\r\n    let cleanup = () => { };\r\n    try {\r\n        await new Promise((resolve, reject) => {\r\n            let onCloseTimer = null;\r\n            // DEFINE ALL THE CALLBACKS =====\r\n            function authEventSeen() {\r\n                var _a;\r\n                // Auth event was detected. Resolve this promise and close the extra\r\n                // window if it's still open.\r\n                resolve();\r\n                const closeBrowserTab = (_a = cordova.plugins.browsertab) === null || _a === void 0 ? void 0 : _a.close;\r\n                if (typeof closeBrowserTab === 'function') {\r\n                    closeBrowserTab();\r\n                }\r\n                // Close inappbrowser emebedded webview in iOS7 and 8 case if still\r\n                // open.\r\n                if (typeof (iabRef === null || iabRef === void 0 ? void 0 : iabRef.close) === 'function') {\r\n                    iabRef.close();\r\n                }\r\n            }\r\n            function resumed() {\r\n                if (onCloseTimer) {\r\n                    // This code already ran; do not rerun.\r\n                    return;\r\n                }\r\n                onCloseTimer = window.setTimeout(() => {\r\n                    // Wait two seeconds after resume then reject.\r\n                    reject(_createError(auth, \"redirect-cancelled-by-user\" /* AuthErrorCode.REDIRECT_CANCELLED_BY_USER */));\r\n                }, REDIRECT_TIMEOUT_MS);\r\n            }\r\n            function visibilityChanged() {\r\n                if ((document === null || document === void 0 ? void 0 : document.visibilityState) === 'visible') {\r\n                    resumed();\r\n                }\r\n            }\r\n            // ATTACH ALL THE LISTENERS =====\r\n            // Listen for the auth event\r\n            eventListener.addPassiveListener(authEventSeen);\r\n            // Listen for resume and visibility events\r\n            document.addEventListener('resume', resumed, false);\r\n            if (_isAndroid()) {\r\n                document.addEventListener('visibilitychange', visibilityChanged, false);\r\n            }\r\n            // SETUP THE CLEANUP FUNCTION =====\r\n            cleanup = () => {\r\n                eventListener.removePassiveListener(authEventSeen);\r\n                document.removeEventListener('resume', resumed, false);\r\n                document.removeEventListener('visibilitychange', visibilityChanged, false);\r\n                if (onCloseTimer) {\r\n                    window.clearTimeout(onCloseTimer);\r\n                }\r\n            };\r\n        });\r\n    }\r\n    finally {\r\n        cleanup();\r\n    }\r\n}\r\n/**\r\n * Checks the configuration of the Cordova environment. This has no side effect\r\n * if the configuration is correct; otherwise it throws an error with the\r\n * missing plugin.\r\n */\r\nfunction _checkCordovaConfiguration(auth) {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\r\n    const win = _cordovaWindow();\r\n    // Check all dependencies installed.\r\n    // https://github.com/nordnet/cordova-universal-links-plugin\r\n    // Note that cordova-universal-links-plugin has been abandoned.\r\n    // A fork with latest fixes is available at:\r\n    // https://www.npmjs.com/package/cordova-universal-links-plugin-fix\r\n    _assert(typeof ((_a = win === null || win === void 0 ? void 0 : win.universalLinks) === null || _a === void 0 ? void 0 : _a.subscribe) === 'function', auth, \"invalid-cordova-configuration\" /* AuthErrorCode.INVALID_CORDOVA_CONFIGURATION */, {\r\n        missingPlugin: 'cordova-universal-links-plugin-fix'\r\n    });\r\n    // https://www.npmjs.com/package/cordova-plugin-buildinfo\r\n    _assert(typeof ((_b = win === null || win === void 0 ? void 0 : win.BuildInfo) === null || _b === void 0 ? void 0 : _b.packageName) !== 'undefined', auth, \"invalid-cordova-configuration\" /* AuthErrorCode.INVALID_CORDOVA_CONFIGURATION */, {\r\n        missingPlugin: 'cordova-plugin-buildInfo'\r\n    });\r\n    // https://github.com/google/cordova-plugin-browsertab\r\n    _assert(typeof ((_e = (_d = (_c = win === null || win === void 0 ? void 0 : win.cordova) === null || _c === void 0 ? void 0 : _c.plugins) === null || _d === void 0 ? void 0 : _d.browsertab) === null || _e === void 0 ? void 0 : _e.openUrl) === 'function', auth, \"invalid-cordova-configuration\" /* AuthErrorCode.INVALID_CORDOVA_CONFIGURATION */, {\r\n        missingPlugin: 'cordova-plugin-browsertab'\r\n    });\r\n    _assert(typeof ((_h = (_g = (_f = win === null || win === void 0 ? void 0 : win.cordova) === null || _f === void 0 ? void 0 : _f.plugins) === null || _g === void 0 ? void 0 : _g.browsertab) === null || _h === void 0 ? void 0 : _h.isAvailable) === 'function', auth, \"invalid-cordova-configuration\" /* AuthErrorCode.INVALID_CORDOVA_CONFIGURATION */, {\r\n        missingPlugin: 'cordova-plugin-browsertab'\r\n    });\r\n    // https://cordova.apache.org/docs/en/latest/reference/cordova-plugin-inappbrowser/\r\n    _assert(typeof ((_k = (_j = win === null || win === void 0 ? void 0 : win.cordova) === null || _j === void 0 ? void 0 : _j.InAppBrowser) === null || _k === void 0 ? void 0 : _k.open) === 'function', auth, \"invalid-cordova-configuration\" /* AuthErrorCode.INVALID_CORDOVA_CONFIGURATION */, {\r\n        missingPlugin: 'cordova-plugin-inappbrowser'\r\n    });\r\n}\r\n/**\r\n * Computes the SHA-256 of a session ID. The SubtleCrypto interface is only\r\n * available in \"secure\" contexts, which covers Cordova (which is served on a file\r\n * protocol).\r\n */\r\nasync function computeSha256(sessionId) {\r\n    const bytes = stringToArrayBuffer(sessionId);\r\n    // TODO: For IE11 crypto has a different name and this operation comes back\r\n    //       as an object, not a promise. This is the old proposed standard that\r\n    //       is used by IE11:\r\n    // https://www.w3.org/TR/2013/WD-WebCryptoAPI-20130108/#cryptooperation-interface\r\n    const buf = await crypto.subtle.digest('SHA-256', bytes);\r\n    const arr = Array.from(new Uint8Array(buf));\r\n    return arr.map(num => num.toString(16).padStart(2, '0')).join('');\r\n}\r\nfunction stringToArrayBuffer(str) {\r\n    // This function is only meant to deal with an ASCII charset and makes\r\n    // certain simplifying assumptions.\r\n    debugAssert(/[0-9a-zA-Z]+/.test(str), 'Can only convert alpha-numeric strings');\r\n    if (typeof TextEncoder !== 'undefined') {\r\n        return new TextEncoder().encode(str);\r\n    }\r\n    const buff = new ArrayBuffer(str.length);\r\n    const view = new Uint8Array(buff);\r\n    for (let i = 0; i < str.length; i++) {\r\n        view[i] = str.charCodeAt(i);\r\n    }\r\n    return view;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst SESSION_ID_LENGTH = 20;\r\n/** Custom AuthEventManager that adds passive listeners to events */\r\nclass CordovaAuthEventManager extends AuthEventManager {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.passiveListeners = new Set();\r\n        this.initPromise = new Promise(resolve => {\r\n            this.resolveInialized = resolve;\r\n        });\r\n    }\r\n    addPassiveListener(cb) {\r\n        this.passiveListeners.add(cb);\r\n    }\r\n    removePassiveListener(cb) {\r\n        this.passiveListeners.delete(cb);\r\n    }\r\n    // In a Cordova environment, this manager can live through multiple redirect\r\n    // operations\r\n    resetRedirect() {\r\n        this.queuedRedirectEvent = null;\r\n        this.hasHandledPotentialRedirect = false;\r\n    }\r\n    /** Override the onEvent method */\r\n    onEvent(event) {\r\n        this.resolveInialized();\r\n        this.passiveListeners.forEach(cb => cb(event));\r\n        return super.onEvent(event);\r\n    }\r\n    async initialized() {\r\n        await this.initPromise;\r\n    }\r\n}\r\n/**\r\n * Generates a (partial) {@link AuthEvent}.\r\n */\r\nfunction _generateNewEvent(auth, type, eventId = null) {\r\n    return {\r\n        type,\r\n        eventId,\r\n        urlResponse: null,\r\n        sessionId: generateSessionId(),\r\n        postBody: null,\r\n        tenantId: auth.tenantId,\r\n        error: _createError(auth, \"no-auth-event\" /* AuthErrorCode.NO_AUTH_EVENT */)\r\n    };\r\n}\r\nfunction _savePartialEvent(auth, event) {\r\n    return storage()._set(persistenceKey(auth), event);\r\n}\r\nasync function _getAndRemoveEvent(auth) {\r\n    const event = (await storage()._get(persistenceKey(auth)));\r\n    if (event) {\r\n        await storage()._remove(persistenceKey(auth));\r\n    }\r\n    return event;\r\n}\r\nfunction _eventFromPartialAndUrl(partialEvent, url) {\r\n    var _a, _b;\r\n    // Parse the deep link within the dynamic link URL.\r\n    const callbackUrl = _getDeepLinkFromCallback(url);\r\n    // Confirm it is actually a callback URL.\r\n    // Currently the universal link will be of this format:\r\n    // https://<AUTH_DOMAIN>/__/auth/callback<OAUTH_RESPONSE>\r\n    // This is a fake URL but is not intended to take the user anywhere\r\n    // and just redirect to the app.\r\n    if (callbackUrl.includes('/__/auth/callback')) {\r\n        // Check if there is an error in the URL.\r\n        // This mechanism is also used to pass errors back to the app:\r\n        // https://<AUTH_DOMAIN>/__/auth/callback?firebaseError=<STRINGIFIED_ERROR>\r\n        const params = searchParamsOrEmpty(callbackUrl);\r\n        // Get the error object corresponding to the stringified error if found.\r\n        const errorObject = params['firebaseError']\r\n            ? parseJsonOrNull(decodeURIComponent(params['firebaseError']))\r\n            : null;\r\n        const code = (_b = (_a = errorObject === null || errorObject === void 0 ? void 0 : errorObject['code']) === null || _a === void 0 ? void 0 : _a.split('auth/')) === null || _b === void 0 ? void 0 : _b[1];\r\n        const error = code ? _createError(code) : null;\r\n        if (error) {\r\n            return {\r\n                type: partialEvent.type,\r\n                eventId: partialEvent.eventId,\r\n                tenantId: partialEvent.tenantId,\r\n                error,\r\n                urlResponse: null,\r\n                sessionId: null,\r\n                postBody: null\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                type: partialEvent.type,\r\n                eventId: partialEvent.eventId,\r\n                tenantId: partialEvent.tenantId,\r\n                sessionId: partialEvent.sessionId,\r\n                urlResponse: callbackUrl,\r\n                postBody: null\r\n            };\r\n        }\r\n    }\r\n    return null;\r\n}\r\nfunction generateSessionId() {\r\n    const chars = [];\r\n    const allowedChars = '1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n    for (let i = 0; i < SESSION_ID_LENGTH; i++) {\r\n        const idx = Math.floor(Math.random() * allowedChars.length);\r\n        chars.push(allowedChars.charAt(idx));\r\n    }\r\n    return chars.join('');\r\n}\r\nfunction storage() {\r\n    return _getInstance(browserLocalPersistence);\r\n}\r\nfunction persistenceKey(auth) {\r\n    return _persistenceKeyName(\"authEvent\" /* KeyName.AUTH_EVENT */, auth.config.apiKey, auth.name);\r\n}\r\nfunction parseJsonOrNull(json) {\r\n    try {\r\n        return JSON.parse(json);\r\n    }\r\n    catch (e) {\r\n        return null;\r\n    }\r\n}\r\n// Exported for testing\r\nfunction _getDeepLinkFromCallback(url) {\r\n    const params = searchParamsOrEmpty(url);\r\n    const link = params['link'] ? decodeURIComponent(params['link']) : undefined;\r\n    // Double link case (automatic redirect)\r\n    const doubleDeepLink = searchParamsOrEmpty(link)['link'];\r\n    // iOS custom scheme links.\r\n    const iOSDeepLink = params['deep_link_id']\r\n        ? decodeURIComponent(params['deep_link_id'])\r\n        : undefined;\r\n    const iOSDoubleDeepLink = searchParamsOrEmpty(iOSDeepLink)['link'];\r\n    return iOSDoubleDeepLink || iOSDeepLink || doubleDeepLink || link || url;\r\n}\r\n/**\r\n * Optimistically tries to get search params from a string, or else returns an\r\n * empty search params object.\r\n */\r\nfunction searchParamsOrEmpty(url) {\r\n    if (!(url === null || url === void 0 ? void 0 : url.includes('?'))) {\r\n        return {};\r\n    }\r\n    const [_, ...rest] = url.split('?');\r\n    return querystringDecode(rest.join('?'));\r\n}\n\n/**\r\n * @license\r\n * Copyright 2021 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * How long to wait for the initial auth event before concluding no\r\n * redirect pending\r\n */\r\nconst INITIAL_EVENT_TIMEOUT_MS = 500;\r\nclass CordovaPopupRedirectResolver {\r\n    constructor() {\r\n        this._redirectPersistence = browserSessionPersistence;\r\n        this._shouldInitProactively = true; // This is lightweight for Cordova\r\n        this.eventManagers = new Map();\r\n        this.originValidationPromises = {};\r\n        this._completeRedirectFn = _getRedirectResult;\r\n        this._overrideRedirectResult = _overrideRedirectResult;\r\n    }\r\n    async _initialize(auth) {\r\n        const key = auth._key();\r\n        let manager = this.eventManagers.get(key);\r\n        if (!manager) {\r\n            manager = new CordovaAuthEventManager(auth);\r\n            this.eventManagers.set(key, manager);\r\n            this.attachCallbackListeners(auth, manager);\r\n        }\r\n        return manager;\r\n    }\r\n    _openPopup(auth) {\r\n        _fail(auth, \"operation-not-supported-in-this-environment\" /* AuthErrorCode.OPERATION_NOT_SUPPORTED */);\r\n    }\r\n    async _openRedirect(auth, provider, authType, eventId) {\r\n        _checkCordovaConfiguration(auth);\r\n        const manager = await this._initialize(auth);\r\n        await manager.initialized();\r\n        // Reset the persisted redirect states. This does not matter on Web where\r\n        // the redirect always blows away application state entirely. On Cordova,\r\n        // the app maintains control flow through the redirect.\r\n        manager.resetRedirect();\r\n        _clearRedirectOutcomes();\r\n        await this._originValidation(auth);\r\n        const event = _generateNewEvent(auth, authType, eventId);\r\n        await _savePartialEvent(auth, event);\r\n        const url = await _generateHandlerUrl(auth, event, provider);\r\n        const iabRef = await _performRedirect(url);\r\n        return _waitForAppResume(auth, manager, iabRef);\r\n    }\r\n    _isIframeWebStorageSupported(_auth, _cb) {\r\n        throw new Error('Method not implemented.');\r\n    }\r\n    _originValidation(auth) {\r\n        const key = auth._key();\r\n        if (!this.originValidationPromises[key]) {\r\n            this.originValidationPromises[key] = _validateOrigin(auth);\r\n        }\r\n        return this.originValidationPromises[key];\r\n    }\r\n    attachCallbackListeners(auth, manager) {\r\n        // Get the global plugins\r\n        const { universalLinks, handleOpenURL, BuildInfo } = _cordovaWindow();\r\n        const noEventTimeout = setTimeout(async () => {\r\n            // We didn't see that initial event. Clear any pending object and\r\n            // dispatch no event\r\n            await _getAndRemoveEvent(auth);\r\n            manager.onEvent(generateNoEvent());\r\n        }, INITIAL_EVENT_TIMEOUT_MS);\r\n        const universalLinksCb = async (eventData) => {\r\n            // We have an event so we can clear the no event timeout\r\n            clearTimeout(noEventTimeout);\r\n            const partialEvent = await _getAndRemoveEvent(auth);\r\n            let finalEvent = null;\r\n            if (partialEvent && (eventData === null || eventData === void 0 ? void 0 : eventData['url'])) {\r\n                finalEvent = _eventFromPartialAndUrl(partialEvent, eventData['url']);\r\n            }\r\n            // If finalEvent is never filled, trigger with no event\r\n            manager.onEvent(finalEvent || generateNoEvent());\r\n        };\r\n        // Universal links subscriber doesn't exist for iOS, so we need to check\r\n        if (typeof universalLinks !== 'undefined' &&\r\n            typeof universalLinks.subscribe === 'function') {\r\n            universalLinks.subscribe(null, universalLinksCb);\r\n        }\r\n        // iOS 7 or 8 custom URL schemes.\r\n        // This is also the current default behavior for iOS 9+.\r\n        // For this to work, cordova-plugin-customurlscheme needs to be installed.\r\n        // https://github.com/EddyVerbruggen/Custom-URL-scheme\r\n        // Do not overwrite the existing developer's URL handler.\r\n        const existingHandleOpenURL = handleOpenURL;\r\n        const packagePrefix = `${BuildInfo.packageName.toLowerCase()}://`;\r\n        _cordovaWindow().handleOpenURL = async (url) => {\r\n            if (url.toLowerCase().startsWith(packagePrefix)) {\r\n                // We want this intentionally to float\r\n                // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n                universalLinksCb({ url });\r\n            }\r\n            // Call the developer's handler if it is present.\r\n            if (typeof existingHandleOpenURL === 'function') {\r\n                try {\r\n                    existingHandleOpenURL(url);\r\n                }\r\n                catch (e) {\r\n                    // This is a developer error. Don't stop the flow of the SDK.\r\n                    console.error(e);\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\r\n/**\r\n * An implementation of {@link PopupRedirectResolver} suitable for Cordova\r\n * based applications.\r\n *\r\n * @public\r\n */\r\nconst cordovaPopupRedirectResolver = CordovaPopupRedirectResolver;\r\nfunction generateNoEvent() {\r\n    return {\r\n        type: \"unknown\" /* AuthEventType.UNKNOWN */,\r\n        eventId: null,\r\n        sessionId: null,\r\n        urlResponse: null,\r\n        postBody: null,\r\n        tenantId: null,\r\n        error: _createError(\"no-auth-event\" /* AuthErrorCode.NO_AUTH_EVENT */)\r\n    };\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n// This function should only be called by frameworks (e.g. FirebaseUI-web) to log their usage.\r\n// It is not intended for direct use by developer apps. NO jsdoc here to intentionally leave it out\r\n// of autogenerated documentation pages to reduce accidental misuse.\r\nfunction addFrameworkForLogging(auth, framework) {\r\n    _castAuth(auth)._logFramework(framework);\r\n}\n\nexport { addFrameworkForLogging, cordovaPopupRedirectResolver };\n","import firebase from '@firebase/app-compat';\nimport * as exp from '@firebase/auth/internal';\nimport { Component } from '@firebase/component';\nimport { isBrowserExtension, getUA, isReactNative, isNode, isIndexedDBAvailable, isIE, FirebaseError } from '@firebase/util';\n\nvar name = \"@firebase/auth-compat\";\nvar version = \"0.4.2\";\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst CORDOVA_ONDEVICEREADY_TIMEOUT_MS = 1000;\r\nfunction _getCurrentScheme() {\r\n    var _a;\r\n    return ((_a = self === null || self === void 0 ? void 0 : self.location) === null || _a === void 0 ? void 0 : _a.protocol) || null;\r\n}\r\n/**\r\n * @return {boolean} Whether the current environment is http or https.\r\n */\r\nfunction _isHttpOrHttps() {\r\n    return _getCurrentScheme() === 'http:' || _getCurrentScheme() === 'https:';\r\n}\r\n/**\r\n * @param {?string=} ua The user agent.\r\n * @return {boolean} Whether the app is rendered in a mobile iOS or Android\r\n *     Cordova environment.\r\n */\r\nfunction _isAndroidOrIosCordovaScheme(ua = getUA()) {\r\n    return !!((_getCurrentScheme() === 'file:' ||\r\n        _getCurrentScheme() === 'ionic:' ||\r\n        _getCurrentScheme() === 'capacitor:') &&\r\n        ua.toLowerCase().match(/iphone|ipad|ipod|android/));\r\n}\r\n/**\r\n * @return {boolean} Whether the environment is a native environment, where\r\n *     CORS checks do not apply.\r\n */\r\nfunction _isNativeEnvironment() {\r\n    return isReactNative() || isNode();\r\n}\r\n/**\r\n * Checks whether the user agent is IE11.\r\n * @return {boolean} True if it is IE11.\r\n */\r\nfunction _isIe11() {\r\n    return isIE() && (document === null || document === void 0 ? void 0 : document.documentMode) === 11;\r\n}\r\n/**\r\n * Checks whether the user agent is Edge.\r\n * @param {string} userAgent The browser user agent string.\r\n * @return {boolean} True if it is Edge.\r\n */\r\nfunction _isEdge(ua = getUA()) {\r\n    return /Edge\\/\\d+/.test(ua);\r\n}\r\n/**\r\n * @param {?string=} opt_userAgent The navigator user agent.\r\n * @return {boolean} Whether local storage is not synchronized between an iframe\r\n *     and a popup of the same domain.\r\n */\r\nfunction _isLocalStorageNotSynchronized(ua = getUA()) {\r\n    return _isIe11() || _isEdge(ua);\r\n}\r\n/** @return {boolean} Whether web storage is supported. */\r\nfunction _isWebStorageSupported() {\r\n    try {\r\n        const storage = self.localStorage;\r\n        const key = exp._generateEventId();\r\n        if (storage) {\r\n            // setItem will throw an exception if we cannot access WebStorage (e.g.,\r\n            // Safari in private mode).\r\n            storage['setItem'](key, '1');\r\n            storage['removeItem'](key);\r\n            // For browsers where iframe web storage does not synchronize with a popup\r\n            // of the same domain, indexedDB is used for persistent storage. These\r\n            // browsers include IE11 and Edge.\r\n            // Make sure it is supported (IE11 and Edge private mode does not support\r\n            // that).\r\n            if (_isLocalStorageNotSynchronized()) {\r\n                // In such browsers, if indexedDB is not supported, an iframe cannot be\r\n                // notified of the popup sign in result.\r\n                return isIndexedDBAvailable();\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n    catch (e) {\r\n        // localStorage is not available from a worker. Test availability of\r\n        // indexedDB.\r\n        return _isWorker() && isIndexedDBAvailable();\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * @param {?Object=} global The optional global scope.\r\n * @return {boolean} Whether current environment is a worker.\r\n */\r\nfunction _isWorker() {\r\n    // WorkerGlobalScope only defined in worker environment.\r\n    return (typeof global !== 'undefined' &&\r\n        'WorkerGlobalScope' in global &&\r\n        'importScripts' in global);\r\n}\r\nfunction _isPopupRedirectSupported() {\r\n    return ((_isHttpOrHttps() ||\r\n        isBrowserExtension() ||\r\n        _isAndroidOrIosCordovaScheme()) &&\r\n        // React Native with remote debugging reports its location.protocol as\r\n        // http.\r\n        !_isNativeEnvironment() &&\r\n        // Local storage has to be supported for browser popup and redirect\r\n        // operations to work.\r\n        _isWebStorageSupported() &&\r\n        // DOM, popups and redirects are not supported within a worker.\r\n        !_isWorker());\r\n}\r\n/** Quick check that indicates the platform *may* be Cordova */\r\nfunction _isLikelyCordova() {\r\n    return _isAndroidOrIosCordovaScheme() && typeof document !== 'undefined';\r\n}\r\nasync function _isCordova() {\r\n    if (!_isLikelyCordova()) {\r\n        return false;\r\n    }\r\n    return new Promise(resolve => {\r\n        const timeoutId = setTimeout(() => {\r\n            // We've waited long enough; the telltale Cordova event didn't happen\r\n            resolve(false);\r\n        }, CORDOVA_ONDEVICEREADY_TIMEOUT_MS);\r\n        document.addEventListener('deviceready', () => {\r\n            clearTimeout(timeoutId);\r\n            resolve(true);\r\n        });\r\n    });\r\n}\r\nfunction _getSelfWindow() {\r\n    return typeof window !== 'undefined' ? window : null;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst Persistence = {\r\n    LOCAL: 'local',\r\n    NONE: 'none',\r\n    SESSION: 'session'\r\n};\r\nconst _assert$3 = exp._assert;\r\nconst PERSISTENCE_KEY = 'persistence';\r\n/**\r\n * Validates that an argument is a valid persistence value. If an invalid type\r\n * is specified, an error is thrown synchronously.\r\n */\r\nfunction _validatePersistenceArgument(auth, persistence) {\r\n    _assert$3(Object.values(Persistence).includes(persistence), auth, \"invalid-persistence-type\" /* exp.AuthErrorCode.INVALID_PERSISTENCE */);\r\n    // Validate if the specified type is supported in the current environment.\r\n    if (isReactNative()) {\r\n        // This is only supported in a browser.\r\n        _assert$3(persistence !== Persistence.SESSION, auth, \"unsupported-persistence-type\" /* exp.AuthErrorCode.UNSUPPORTED_PERSISTENCE */);\r\n        return;\r\n    }\r\n    if (isNode()) {\r\n        // Only none is supported in Node.js.\r\n        _assert$3(persistence === Persistence.NONE, auth, \"unsupported-persistence-type\" /* exp.AuthErrorCode.UNSUPPORTED_PERSISTENCE */);\r\n        return;\r\n    }\r\n    if (_isWorker()) {\r\n        // In a worker environment, either LOCAL or NONE are supported.\r\n        // If indexedDB not supported and LOCAL provided, throw an error\r\n        _assert$3(persistence === Persistence.NONE ||\r\n            (persistence === Persistence.LOCAL && isIndexedDBAvailable()), auth, \"unsupported-persistence-type\" /* exp.AuthErrorCode.UNSUPPORTED_PERSISTENCE */);\r\n        return;\r\n    }\r\n    // This is restricted by what the browser supports.\r\n    _assert$3(persistence === Persistence.NONE || _isWebStorageSupported(), auth, \"unsupported-persistence-type\" /* exp.AuthErrorCode.UNSUPPORTED_PERSISTENCE */);\r\n}\r\nasync function _savePersistenceForRedirect(auth) {\r\n    await auth._initializationPromise;\r\n    const session = getSessionStorageIfAvailable();\r\n    const key = exp._persistenceKeyName(PERSISTENCE_KEY, auth.config.apiKey, auth.name);\r\n    if (session) {\r\n        session.setItem(key, auth._getPersistence());\r\n    }\r\n}\r\nfunction _getPersistencesFromRedirect(apiKey, appName) {\r\n    const session = getSessionStorageIfAvailable();\r\n    if (!session) {\r\n        return [];\r\n    }\r\n    const key = exp._persistenceKeyName(PERSISTENCE_KEY, apiKey, appName);\r\n    const persistence = session.getItem(key);\r\n    switch (persistence) {\r\n        case Persistence.NONE:\r\n            return [exp.inMemoryPersistence];\r\n        case Persistence.LOCAL:\r\n            return [exp.indexedDBLocalPersistence, exp.browserSessionPersistence];\r\n        case Persistence.SESSION:\r\n            return [exp.browserSessionPersistence];\r\n        default:\r\n            return [];\r\n    }\r\n}\r\n/** Returns session storage, or null if the property access errors */\r\nfunction getSessionStorageIfAvailable() {\r\n    var _a;\r\n    try {\r\n        return ((_a = _getSelfWindow()) === null || _a === void 0 ? void 0 : _a.sessionStorage) || null;\r\n    }\r\n    catch (e) {\r\n        return null;\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst _assert$2 = exp._assert;\r\n/** Platform-agnostic popup-redirect resolver */\r\nclass CompatPopupRedirectResolver {\r\n    constructor() {\r\n        // Create both resolvers for dynamic resolution later\r\n        this.browserResolver = exp._getInstance(exp.browserPopupRedirectResolver);\r\n        this.cordovaResolver = exp._getInstance(exp.cordovaPopupRedirectResolver);\r\n        // The actual resolver in use: either browserResolver or cordovaResolver.\r\n        this.underlyingResolver = null;\r\n        this._redirectPersistence = exp.browserSessionPersistence;\r\n        this._completeRedirectFn = exp._getRedirectResult;\r\n        this._overrideRedirectResult = exp._overrideRedirectResult;\r\n    }\r\n    async _initialize(auth) {\r\n        await this.selectUnderlyingResolver();\r\n        return this.assertedUnderlyingResolver._initialize(auth);\r\n    }\r\n    async _openPopup(auth, provider, authType, eventId) {\r\n        await this.selectUnderlyingResolver();\r\n        return this.assertedUnderlyingResolver._openPopup(auth, provider, authType, eventId);\r\n    }\r\n    async _openRedirect(auth, provider, authType, eventId) {\r\n        await this.selectUnderlyingResolver();\r\n        return this.assertedUnderlyingResolver._openRedirect(auth, provider, authType, eventId);\r\n    }\r\n    _isIframeWebStorageSupported(auth, cb) {\r\n        this.assertedUnderlyingResolver._isIframeWebStorageSupported(auth, cb);\r\n    }\r\n    _originValidation(auth) {\r\n        return this.assertedUnderlyingResolver._originValidation(auth);\r\n    }\r\n    get _shouldInitProactively() {\r\n        return _isLikelyCordova() || this.browserResolver._shouldInitProactively;\r\n    }\r\n    get assertedUnderlyingResolver() {\r\n        _assert$2(this.underlyingResolver, \"internal-error\" /* exp.AuthErrorCode.INTERNAL_ERROR */);\r\n        return this.underlyingResolver;\r\n    }\r\n    async selectUnderlyingResolver() {\r\n        if (this.underlyingResolver) {\r\n            return;\r\n        }\r\n        // We haven't yet determined whether or not we're in Cordova; go ahead\r\n        // and determine that state now.\r\n        const isCordova = await _isCordova();\r\n        this.underlyingResolver = isCordova\r\n            ? this.cordovaResolver\r\n            : this.browserResolver;\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction unwrap(object) {\r\n    return object.unwrap();\r\n}\r\nfunction wrapped(object) {\r\n    return object.wrapped();\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction credentialFromResponse(userCredential) {\r\n    return credentialFromObject(userCredential);\r\n}\r\nfunction attachExtraErrorFields(auth, e) {\r\n    var _a;\r\n    // The response contains all fields from the server which may or may not\r\n    // actually match the underlying type\r\n    const response = (_a = e.customData) === null || _a === void 0 ? void 0 : _a._tokenResponse;\r\n    if ((e === null || e === void 0 ? void 0 : e.code) === 'auth/multi-factor-auth-required') {\r\n        const mfaErr = e;\r\n        mfaErr.resolver = new MultiFactorResolver(auth, exp.getMultiFactorResolver(auth, e));\r\n    }\r\n    else if (response) {\r\n        const credential = credentialFromObject(e);\r\n        const credErr = e;\r\n        if (credential) {\r\n            credErr.credential = credential;\r\n            credErr.tenantId = response.tenantId || undefined;\r\n            credErr.email = response.email || undefined;\r\n            credErr.phoneNumber = response.phoneNumber || undefined;\r\n        }\r\n    }\r\n}\r\nfunction credentialFromObject(object) {\r\n    const { _tokenResponse } = (object instanceof FirebaseError ? object.customData : object);\r\n    if (!_tokenResponse) {\r\n        return null;\r\n    }\r\n    // Handle phone Auth credential responses, as they have a different format\r\n    // from other backend responses (i.e. no providerId). This is also only the\r\n    // case for user credentials (does not work for errors).\r\n    if (!(object instanceof FirebaseError)) {\r\n        if ('temporaryProof' in _tokenResponse && 'phoneNumber' in _tokenResponse) {\r\n            return exp.PhoneAuthProvider.credentialFromResult(object);\r\n        }\r\n    }\r\n    const providerId = _tokenResponse.providerId;\r\n    // Email and password is not supported as there is no situation where the\r\n    // server would return the password to the client.\r\n    if (!providerId || providerId === exp.ProviderId.PASSWORD) {\r\n        return null;\r\n    }\r\n    let provider;\r\n    switch (providerId) {\r\n        case exp.ProviderId.GOOGLE:\r\n            provider = exp.GoogleAuthProvider;\r\n            break;\r\n        case exp.ProviderId.FACEBOOK:\r\n            provider = exp.FacebookAuthProvider;\r\n            break;\r\n        case exp.ProviderId.GITHUB:\r\n            provider = exp.GithubAuthProvider;\r\n            break;\r\n        case exp.ProviderId.TWITTER:\r\n            provider = exp.TwitterAuthProvider;\r\n            break;\r\n        default:\r\n            const { oauthIdToken, oauthAccessToken, oauthTokenSecret, pendingToken, nonce } = _tokenResponse;\r\n            if (!oauthAccessToken &&\r\n                !oauthTokenSecret &&\r\n                !oauthIdToken &&\r\n                !pendingToken) {\r\n                return null;\r\n            }\r\n            // TODO(avolkovi): uncomment this and get it working with SAML & OIDC\r\n            if (pendingToken) {\r\n                if (providerId.startsWith('saml.')) {\r\n                    return exp.SAMLAuthCredential._create(providerId, pendingToken);\r\n                }\r\n                else {\r\n                    // OIDC and non-default providers excluding Twitter.\r\n                    return exp.OAuthCredential._fromParams({\r\n                        providerId,\r\n                        signInMethod: providerId,\r\n                        pendingToken,\r\n                        idToken: oauthIdToken,\r\n                        accessToken: oauthAccessToken\r\n                    });\r\n                }\r\n            }\r\n            return new exp.OAuthProvider(providerId).credential({\r\n                idToken: oauthIdToken,\r\n                accessToken: oauthAccessToken,\r\n                rawNonce: nonce\r\n            });\r\n    }\r\n    return object instanceof FirebaseError\r\n        ? provider.credentialFromError(object)\r\n        : provider.credentialFromResult(object);\r\n}\r\nfunction convertCredential(auth, credentialPromise) {\r\n    return credentialPromise\r\n        .catch(e => {\r\n        if (e instanceof FirebaseError) {\r\n            attachExtraErrorFields(auth, e);\r\n        }\r\n        throw e;\r\n    })\r\n        .then(credential => {\r\n        const operationType = credential.operationType;\r\n        const user = credential.user;\r\n        return {\r\n            operationType,\r\n            credential: credentialFromResponse(credential),\r\n            additionalUserInfo: exp.getAdditionalUserInfo(credential),\r\n            user: User.getOrCreate(user)\r\n        };\r\n    });\r\n}\r\nasync function convertConfirmationResult(auth, confirmationResultPromise) {\r\n    const confirmationResultExp = await confirmationResultPromise;\r\n    return {\r\n        verificationId: confirmationResultExp.verificationId,\r\n        confirm: (verificationCode) => convertCredential(auth, confirmationResultExp.confirm(verificationCode))\r\n    };\r\n}\r\nclass MultiFactorResolver {\r\n    constructor(auth, resolver) {\r\n        this.resolver = resolver;\r\n        this.auth = wrapped(auth);\r\n    }\r\n    get session() {\r\n        return this.resolver.session;\r\n    }\r\n    get hints() {\r\n        return this.resolver.hints;\r\n    }\r\n    resolveSignIn(assertion) {\r\n        return convertCredential(unwrap(this.auth), this.resolver.resolveSignIn(assertion));\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass User {\r\n    constructor(_delegate) {\r\n        this._delegate = _delegate;\r\n        this.multiFactor = exp.multiFactor(_delegate);\r\n    }\r\n    static getOrCreate(user) {\r\n        if (!User.USER_MAP.has(user)) {\r\n            User.USER_MAP.set(user, new User(user));\r\n        }\r\n        return User.USER_MAP.get(user);\r\n    }\r\n    delete() {\r\n        return this._delegate.delete();\r\n    }\r\n    reload() {\r\n        return this._delegate.reload();\r\n    }\r\n    toJSON() {\r\n        return this._delegate.toJSON();\r\n    }\r\n    getIdTokenResult(forceRefresh) {\r\n        return this._delegate.getIdTokenResult(forceRefresh);\r\n    }\r\n    getIdToken(forceRefresh) {\r\n        return this._delegate.getIdToken(forceRefresh);\r\n    }\r\n    linkAndRetrieveDataWithCredential(credential) {\r\n        return this.linkWithCredential(credential);\r\n    }\r\n    async linkWithCredential(credential) {\r\n        return convertCredential(this.auth, exp.linkWithCredential(this._delegate, credential));\r\n    }\r\n    async linkWithPhoneNumber(phoneNumber, applicationVerifier) {\r\n        return convertConfirmationResult(this.auth, exp.linkWithPhoneNumber(this._delegate, phoneNumber, applicationVerifier));\r\n    }\r\n    async linkWithPopup(provider) {\r\n        return convertCredential(this.auth, exp.linkWithPopup(this._delegate, provider, CompatPopupRedirectResolver));\r\n    }\r\n    async linkWithRedirect(provider) {\r\n        await _savePersistenceForRedirect(exp._castAuth(this.auth));\r\n        return exp.linkWithRedirect(this._delegate, provider, CompatPopupRedirectResolver);\r\n    }\r\n    reauthenticateAndRetrieveDataWithCredential(credential) {\r\n        return this.reauthenticateWithCredential(credential);\r\n    }\r\n    async reauthenticateWithCredential(credential) {\r\n        return convertCredential(this.auth, exp.reauthenticateWithCredential(this._delegate, credential));\r\n    }\r\n    reauthenticateWithPhoneNumber(phoneNumber, applicationVerifier) {\r\n        return convertConfirmationResult(this.auth, exp.reauthenticateWithPhoneNumber(this._delegate, phoneNumber, applicationVerifier));\r\n    }\r\n    reauthenticateWithPopup(provider) {\r\n        return convertCredential(this.auth, exp.reauthenticateWithPopup(this._delegate, provider, CompatPopupRedirectResolver));\r\n    }\r\n    async reauthenticateWithRedirect(provider) {\r\n        await _savePersistenceForRedirect(exp._castAuth(this.auth));\r\n        return exp.reauthenticateWithRedirect(this._delegate, provider, CompatPopupRedirectResolver);\r\n    }\r\n    sendEmailVerification(actionCodeSettings) {\r\n        return exp.sendEmailVerification(this._delegate, actionCodeSettings);\r\n    }\r\n    async unlink(providerId) {\r\n        await exp.unlink(this._delegate, providerId);\r\n        return this;\r\n    }\r\n    updateEmail(newEmail) {\r\n        return exp.updateEmail(this._delegate, newEmail);\r\n    }\r\n    updatePassword(newPassword) {\r\n        return exp.updatePassword(this._delegate, newPassword);\r\n    }\r\n    updatePhoneNumber(phoneCredential) {\r\n        return exp.updatePhoneNumber(this._delegate, phoneCredential);\r\n    }\r\n    updateProfile(profile) {\r\n        return exp.updateProfile(this._delegate, profile);\r\n    }\r\n    verifyBeforeUpdateEmail(newEmail, actionCodeSettings) {\r\n        return exp.verifyBeforeUpdateEmail(this._delegate, newEmail, actionCodeSettings);\r\n    }\r\n    get emailVerified() {\r\n        return this._delegate.emailVerified;\r\n    }\r\n    get isAnonymous() {\r\n        return this._delegate.isAnonymous;\r\n    }\r\n    get metadata() {\r\n        return this._delegate.metadata;\r\n    }\r\n    get phoneNumber() {\r\n        return this._delegate.phoneNumber;\r\n    }\r\n    get providerData() {\r\n        return this._delegate.providerData;\r\n    }\r\n    get refreshToken() {\r\n        return this._delegate.refreshToken;\r\n    }\r\n    get tenantId() {\r\n        return this._delegate.tenantId;\r\n    }\r\n    get displayName() {\r\n        return this._delegate.displayName;\r\n    }\r\n    get email() {\r\n        return this._delegate.email;\r\n    }\r\n    get photoURL() {\r\n        return this._delegate.photoURL;\r\n    }\r\n    get providerId() {\r\n        return this._delegate.providerId;\r\n    }\r\n    get uid() {\r\n        return this._delegate.uid;\r\n    }\r\n    get auth() {\r\n        return this._delegate.auth;\r\n    }\r\n}\r\n// Maintain a map so that there's always a 1:1 mapping between new User and\r\n// legacy compat users\r\nUser.USER_MAP = new WeakMap();\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst _assert$1 = exp._assert;\r\nclass Auth {\r\n    constructor(app, provider) {\r\n        this.app = app;\r\n        if (provider.isInitialized()) {\r\n            this._delegate = provider.getImmediate();\r\n            this.linkUnderlyingAuth();\r\n            return;\r\n        }\r\n        const { apiKey } = app.options;\r\n        // TODO: platform needs to be determined using heuristics\r\n        _assert$1(apiKey, \"invalid-api-key\" /* exp.AuthErrorCode.INVALID_API_KEY */, {\r\n            appName: app.name\r\n        });\r\n        // TODO: platform needs to be determined using heuristics\r\n        _assert$1(apiKey, \"invalid-api-key\" /* exp.AuthErrorCode.INVALID_API_KEY */, {\r\n            appName: app.name\r\n        });\r\n        // Only use a popup/redirect resolver in browser environments\r\n        const resolver = typeof window !== 'undefined' ? CompatPopupRedirectResolver : undefined;\r\n        this._delegate = provider.initialize({\r\n            options: {\r\n                persistence: buildPersistenceHierarchy(apiKey, app.name),\r\n                popupRedirectResolver: resolver\r\n            }\r\n        });\r\n        this._delegate._updateErrorMap(exp.debugErrorMap);\r\n        this.linkUnderlyingAuth();\r\n    }\r\n    get emulatorConfig() {\r\n        return this._delegate.emulatorConfig;\r\n    }\r\n    get currentUser() {\r\n        if (!this._delegate.currentUser) {\r\n            return null;\r\n        }\r\n        return User.getOrCreate(this._delegate.currentUser);\r\n    }\r\n    get languageCode() {\r\n        return this._delegate.languageCode;\r\n    }\r\n    set languageCode(languageCode) {\r\n        this._delegate.languageCode = languageCode;\r\n    }\r\n    get settings() {\r\n        return this._delegate.settings;\r\n    }\r\n    get tenantId() {\r\n        return this._delegate.tenantId;\r\n    }\r\n    set tenantId(tid) {\r\n        this._delegate.tenantId = tid;\r\n    }\r\n    useDeviceLanguage() {\r\n        this._delegate.useDeviceLanguage();\r\n    }\r\n    signOut() {\r\n        return this._delegate.signOut();\r\n    }\r\n    useEmulator(url, options) {\r\n        exp.connectAuthEmulator(this._delegate, url, options);\r\n    }\r\n    applyActionCode(code) {\r\n        return exp.applyActionCode(this._delegate, code);\r\n    }\r\n    checkActionCode(code) {\r\n        return exp.checkActionCode(this._delegate, code);\r\n    }\r\n    confirmPasswordReset(code, newPassword) {\r\n        return exp.confirmPasswordReset(this._delegate, code, newPassword);\r\n    }\r\n    async createUserWithEmailAndPassword(email, password) {\r\n        return convertCredential(this._delegate, exp.createUserWithEmailAndPassword(this._delegate, email, password));\r\n    }\r\n    fetchProvidersForEmail(email) {\r\n        return this.fetchSignInMethodsForEmail(email);\r\n    }\r\n    fetchSignInMethodsForEmail(email) {\r\n        return exp.fetchSignInMethodsForEmail(this._delegate, email);\r\n    }\r\n    isSignInWithEmailLink(emailLink) {\r\n        return exp.isSignInWithEmailLink(this._delegate, emailLink);\r\n    }\r\n    async getRedirectResult() {\r\n        _assert$1(_isPopupRedirectSupported(), this._delegate, \"operation-not-supported-in-this-environment\" /* exp.AuthErrorCode.OPERATION_NOT_SUPPORTED */);\r\n        const credential = await exp.getRedirectResult(this._delegate, CompatPopupRedirectResolver);\r\n        if (!credential) {\r\n            return {\r\n                credential: null,\r\n                user: null\r\n            };\r\n        }\r\n        return convertCredential(this._delegate, Promise.resolve(credential));\r\n    }\r\n    // This function should only be called by frameworks (e.g. FirebaseUI-web) to log their usage.\r\n    // It is not intended for direct use by developer apps. NO jsdoc here to intentionally leave it\r\n    // out of autogenerated documentation pages to reduce accidental misuse.\r\n    addFrameworkForLogging(framework) {\r\n        exp.addFrameworkForLogging(this._delegate, framework);\r\n    }\r\n    onAuthStateChanged(nextOrObserver, errorFn, completed) {\r\n        const { next, error, complete } = wrapObservers(nextOrObserver, errorFn, completed);\r\n        return this._delegate.onAuthStateChanged(next, error, complete);\r\n    }\r\n    onIdTokenChanged(nextOrObserver, errorFn, completed) {\r\n        const { next, error, complete } = wrapObservers(nextOrObserver, errorFn, completed);\r\n        return this._delegate.onIdTokenChanged(next, error, complete);\r\n    }\r\n    sendSignInLinkToEmail(email, actionCodeSettings) {\r\n        return exp.sendSignInLinkToEmail(this._delegate, email, actionCodeSettings);\r\n    }\r\n    sendPasswordResetEmail(email, actionCodeSettings) {\r\n        return exp.sendPasswordResetEmail(this._delegate, email, actionCodeSettings || undefined);\r\n    }\r\n    async setPersistence(persistence) {\r\n        _validatePersistenceArgument(this._delegate, persistence);\r\n        let converted;\r\n        switch (persistence) {\r\n            case Persistence.SESSION:\r\n                converted = exp.browserSessionPersistence;\r\n                break;\r\n            case Persistence.LOCAL:\r\n                // Not using isIndexedDBAvailable() since it only checks if indexedDB is defined.\r\n                const isIndexedDBFullySupported = await exp\r\n                    ._getInstance(exp.indexedDBLocalPersistence)\r\n                    ._isAvailable();\r\n                converted = isIndexedDBFullySupported\r\n                    ? exp.indexedDBLocalPersistence\r\n                    : exp.browserLocalPersistence;\r\n                break;\r\n            case Persistence.NONE:\r\n                converted = exp.inMemoryPersistence;\r\n                break;\r\n            default:\r\n                return exp._fail(\"argument-error\" /* exp.AuthErrorCode.ARGUMENT_ERROR */, {\r\n                    appName: this._delegate.name\r\n                });\r\n        }\r\n        return this._delegate.setPersistence(converted);\r\n    }\r\n    signInAndRetrieveDataWithCredential(credential) {\r\n        return this.signInWithCredential(credential);\r\n    }\r\n    signInAnonymously() {\r\n        return convertCredential(this._delegate, exp.signInAnonymously(this._delegate));\r\n    }\r\n    signInWithCredential(credential) {\r\n        return convertCredential(this._delegate, exp.signInWithCredential(this._delegate, credential));\r\n    }\r\n    signInWithCustomToken(token) {\r\n        return convertCredential(this._delegate, exp.signInWithCustomToken(this._delegate, token));\r\n    }\r\n    signInWithEmailAndPassword(email, password) {\r\n        return convertCredential(this._delegate, exp.signInWithEmailAndPassword(this._delegate, email, password));\r\n    }\r\n    signInWithEmailLink(email, emailLink) {\r\n        return convertCredential(this._delegate, exp.signInWithEmailLink(this._delegate, email, emailLink));\r\n    }\r\n    signInWithPhoneNumber(phoneNumber, applicationVerifier) {\r\n        return convertConfirmationResult(this._delegate, exp.signInWithPhoneNumber(this._delegate, phoneNumber, applicationVerifier));\r\n    }\r\n    async signInWithPopup(provider) {\r\n        _assert$1(_isPopupRedirectSupported(), this._delegate, \"operation-not-supported-in-this-environment\" /* exp.AuthErrorCode.OPERATION_NOT_SUPPORTED */);\r\n        return convertCredential(this._delegate, exp.signInWithPopup(this._delegate, provider, CompatPopupRedirectResolver));\r\n    }\r\n    async signInWithRedirect(provider) {\r\n        _assert$1(_isPopupRedirectSupported(), this._delegate, \"operation-not-supported-in-this-environment\" /* exp.AuthErrorCode.OPERATION_NOT_SUPPORTED */);\r\n        await _savePersistenceForRedirect(this._delegate);\r\n        return exp.signInWithRedirect(this._delegate, provider, CompatPopupRedirectResolver);\r\n    }\r\n    updateCurrentUser(user) {\r\n        // remove ts-ignore once overloads are defined for exp functions to accept compat objects\r\n        // @ts-ignore\r\n        return this._delegate.updateCurrentUser(user);\r\n    }\r\n    verifyPasswordResetCode(code) {\r\n        return exp.verifyPasswordResetCode(this._delegate, code);\r\n    }\r\n    unwrap() {\r\n        return this._delegate;\r\n    }\r\n    _delete() {\r\n        return this._delegate._delete();\r\n    }\r\n    linkUnderlyingAuth() {\r\n        this._delegate.wrapped = () => this;\r\n    }\r\n}\r\nAuth.Persistence = Persistence;\r\nfunction wrapObservers(nextOrObserver, error, complete) {\r\n    let next = nextOrObserver;\r\n    if (typeof nextOrObserver !== 'function') {\r\n        ({ next, error, complete } = nextOrObserver);\r\n    }\r\n    // We know 'next' is now a function\r\n    const oldNext = next;\r\n    const newNext = (user) => oldNext(user && User.getOrCreate(user));\r\n    return {\r\n        next: newNext,\r\n        error: error,\r\n        complete\r\n    };\r\n}\r\nfunction buildPersistenceHierarchy(apiKey, appName) {\r\n    // Note this is slightly different behavior: in this case, the stored\r\n    // persistence is checked *first* rather than last. This is because we want\r\n    // to prefer stored persistence type in the hierarchy. This is an empty\r\n    // array if window is not available or there is no pending redirect\r\n    const persistences = _getPersistencesFromRedirect(apiKey, appName);\r\n    // If \"self\" is available, add indexedDB\r\n    if (typeof self !== 'undefined' &&\r\n        !persistences.includes(exp.indexedDBLocalPersistence)) {\r\n        persistences.push(exp.indexedDBLocalPersistence);\r\n    }\r\n    // If \"window\" is available, add HTML Storage persistences\r\n    if (typeof window !== 'undefined') {\r\n        for (const persistence of [\r\n            exp.browserLocalPersistence,\r\n            exp.browserSessionPersistence\r\n        ]) {\r\n            if (!persistences.includes(persistence)) {\r\n                persistences.push(persistence);\r\n            }\r\n        }\r\n    }\r\n    // Add in-memory as a final fallback\r\n    if (!persistences.includes(exp.inMemoryPersistence)) {\r\n        persistences.push(exp.inMemoryPersistence);\r\n    }\r\n    return persistences;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass PhoneAuthProvider {\r\n    constructor() {\r\n        this.providerId = 'phone';\r\n        // TODO: remove ts-ignore when moving types from auth-types to auth-compat\r\n        // @ts-ignore\r\n        this._delegate = new exp.PhoneAuthProvider(unwrap(firebase.auth()));\r\n    }\r\n    static credential(verificationId, verificationCode) {\r\n        return exp.PhoneAuthProvider.credential(verificationId, verificationCode);\r\n    }\r\n    verifyPhoneNumber(phoneInfoOptions, applicationVerifier) {\r\n        return this._delegate.verifyPhoneNumber(\r\n        // The implementation matches but the types are subtly incompatible\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        phoneInfoOptions, applicationVerifier);\r\n    }\r\n    unwrap() {\r\n        return this._delegate;\r\n    }\r\n}\r\nPhoneAuthProvider.PHONE_SIGN_IN_METHOD = exp.PhoneAuthProvider.PHONE_SIGN_IN_METHOD;\r\nPhoneAuthProvider.PROVIDER_ID = exp.PhoneAuthProvider.PROVIDER_ID;\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst _assert = exp._assert;\r\nclass RecaptchaVerifier {\r\n    constructor(container, parameters, app = firebase.app()) {\r\n        var _a;\r\n        // API key is required for web client RPC calls.\r\n        _assert((_a = app.options) === null || _a === void 0 ? void 0 : _a.apiKey, \"invalid-api-key\" /* exp.AuthErrorCode.INVALID_API_KEY */, {\r\n            appName: app.name\r\n        });\r\n        this._delegate = new exp.RecaptchaVerifier(container, \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        parameters, \r\n        // TODO: remove ts-ignore when moving types from auth-types to auth-compat\r\n        // @ts-ignore\r\n        app.auth());\r\n        this.type = this._delegate.type;\r\n    }\r\n    clear() {\r\n        this._delegate.clear();\r\n    }\r\n    render() {\r\n        return this._delegate.render();\r\n    }\r\n    verify() {\r\n        return this._delegate.verify();\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst AUTH_TYPE = 'auth-compat';\r\n// Create auth components to register with firebase.\r\n// Provides Auth public APIs.\r\nfunction registerAuthCompat(instance) {\r\n    instance.INTERNAL.registerComponent(new Component(AUTH_TYPE, container => {\r\n        // getImmediate for FirebaseApp will always succeed\r\n        const app = container.getProvider('app-compat').getImmediate();\r\n        const authProvider = container.getProvider('auth');\r\n        return new Auth(app, authProvider);\r\n    }, \"PUBLIC\" /* ComponentType.PUBLIC */)\r\n        .setServiceProps({\r\n        ActionCodeInfo: {\r\n            Operation: {\r\n                EMAIL_SIGNIN: exp.ActionCodeOperation.EMAIL_SIGNIN,\r\n                PASSWORD_RESET: exp.ActionCodeOperation.PASSWORD_RESET,\r\n                RECOVER_EMAIL: exp.ActionCodeOperation.RECOVER_EMAIL,\r\n                REVERT_SECOND_FACTOR_ADDITION: exp.ActionCodeOperation.REVERT_SECOND_FACTOR_ADDITION,\r\n                VERIFY_AND_CHANGE_EMAIL: exp.ActionCodeOperation.VERIFY_AND_CHANGE_EMAIL,\r\n                VERIFY_EMAIL: exp.ActionCodeOperation.VERIFY_EMAIL\r\n            }\r\n        },\r\n        EmailAuthProvider: exp.EmailAuthProvider,\r\n        FacebookAuthProvider: exp.FacebookAuthProvider,\r\n        GithubAuthProvider: exp.GithubAuthProvider,\r\n        GoogleAuthProvider: exp.GoogleAuthProvider,\r\n        OAuthProvider: exp.OAuthProvider,\r\n        SAMLAuthProvider: exp.SAMLAuthProvider,\r\n        PhoneAuthProvider: PhoneAuthProvider,\r\n        PhoneMultiFactorGenerator: exp.PhoneMultiFactorGenerator,\r\n        RecaptchaVerifier: RecaptchaVerifier,\r\n        TwitterAuthProvider: exp.TwitterAuthProvider,\r\n        Auth,\r\n        AuthCredential: exp.AuthCredential,\r\n        Error: FirebaseError\r\n    })\r\n        .setInstantiationMode(\"LAZY\" /* InstantiationMode.LAZY */)\r\n        .setMultipleInstances(false));\r\n    instance.registerVersion(name, version);\r\n}\r\nregisterAuthCompat(firebase);\n"],"x_google_ignoreList":[0,1]}